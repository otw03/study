# 01-database

# 1. 자료(Data)와 정보(Information)

### **자료(DATA)**

어떠한 측정을 통하여 얻은 단순한 값

현실 세계에 대한 관찰(input: 사용자의 입력)을 통해 얻은 사실

처리되지 않은 데이터

ex) 온도, 습도

### **정보(information)**

자료를 가공하여 얻은 값

자료에 대한 분석을 통해 얻은 지식

**의사 결정**을 위한 지식

ex) 날씨: 강우 소식 ⇒ 비가 와서 우산을 가지고 나간다는 판단에 영향

# 2. 데이터베이스란?

**공유**하여 사용될 목적으로 **통합**해 관리하는 **데이터 집합**

자료의 중복을 없애 효율적으로 처리하기 위함

# 3. DBMS(DataBaseMansgementSystem)

**DB를 운영, 관리하는 소프트웨어**

### DBMS의 종류

| DBMS | 제작사 | 운영체제 |  |
| --- | --- | --- | --- |
| MySQL | MySQL→Oracle(인수합병) | Unix, Linux, Windows, Mac | 오픈 소스(상용시 비용발생) |
| Oracle | Oracle | Unix, Linux, Windows | 시장1위, 대량의 데이터 처리 용이 |
| SQL Server | Microsoft | Windows특화 |  |

# 4. SQL(Structured Query Language)

****DBMS에서 사용하는 DB를 조작하기 위한 언어****

### DDL

- 데이터 정의어 (Data Definition Language)
- DB관리자나 프로그래머가 데이터베이스 구조를 정의하기 위한 언어
- 생성, 변경, 삭제, 이름변경, 초기화
- CREATE, ALTER, DROP, RENAME, TRUNCATE 

### DML

- 데이터 조작어 (Data Manipulation Language)
- DB에 저장된 데이터를 조작하기 위해 사용됨
- 검색, 추가, 삭제, 갱신
- SELECT, INSERT, UPDATE, DELETE 

### DCL

- 데이터 제어어 (Data Control Language)
- 데이터 접근 권한 부여, 회수 등 DB시스템 관리를 위한 언어
- GRANT, REVOKE 

# 5. MYSQL SQL

## 1) 사용할 데이터베이스 열기

```sql
use 데이터베이스이름;
```

## 2) 선택한 DB안에 존재하는 테이블 목록 보기

- 테이블(Table) = DB에서 자료(DATA)를 관리하기 위한 표

```sql
show tables;
```

## 3) 테이블의 구성요소

- 특정 테이블에 저장되어 있는 모든 데이터 조회하기 (*는 전체)

```sql
SELECT * FROM 테이블이름;
```

- 행 = 표의 내용
- 한줄 = 데이터 = 레코드(Record)
- 열 = 표의 항목 = 컬럼(Column)혹은 필드(Field)

## 4) 테이블 구조 확인

```sql
desc 테이블이름;
```

## 5) 전체 데이터 조회하기

```sql
SELECT * FROM 테이블이름;
```

## 6) 컬럼명을 명시하여 원하는 데이터 조회하기

- 컬럼명을 명시할 경우 조회를 원하는 컬럼만 조회 가능
- 컬럼 나열 순서를 필요에 따라 변경할 수 있다
- `*` 을 사용하는 것 보다 조회 속도가 상대적으로 빠르다

```sql
SELECT 컬럼1, 컬럼2, ..., 컬럼n FROM 테이블이름;
```

## 7) 검색 결과의 중복 행 제거하기

```sql
SELECT DISTINCT * |(or) 컬럼1, 컬럼2, ..., 컬럼n FROM 테이블이름;
```

## 8) 컬럼에 대한 별칭 부여

### 컬럼이름 뒤에 공백으로 구분하는 경우

```sql
SELECT 컬럼1 `별칭1`, 컬럼2 `별칭2`, ..., 컬럼n `별칭n` FROM 테이블이름;
```

### 컬럼이름 뒤에 AS키워드를 사용하는 경우

```sql
SELECT 컬럼1 AS `별칭1`, 컬럼2 AS `별칭2`, ..., 컬럼n AS `별칭n` FROM 테이블이름;
```

## 9) 산술 연산자의 사용

### SELECT절에서의 산술 연산자 사용

- 컬럼이름에 산술 연산을 적용하면 조회 결과에 적용되어 출력된다.
- 원본 데이터는 변하지 않으며, 값을 가공하여 출력할 수 있다.

## 10) 검색 조건 지정하기

### WHERE절을 사용한 검색 조건 지정

- 검색조건에는 비교 연산자와 논리 연산자를 사용할 수 있다

```sql
SELECT DISTINCT { * | 컬럼이름 [as `별칭`] … } FROM 테이블이름 [WHERE 검색조건];
```

- 비교 연산자의 종류

| 연산자 | 설명 |
| --- | --- |
| = | 같다 |
| > | 초과 |
| < | 미만 |
| != | 다르다 |
| >= | 이상 |
| <= | 이하 |
- 논리 연산자의 종류

| 연산자 | 설명 |
| --- | --- |
| AND | 모든 조건이 참일 때 참을 반환 |
| OR | 모든 조건이 거짓일 때 거짓을 반환 |
| NOT | 조건과 반대되는 결과를 반환 |

## BETWEEN 연산자

### 조회 조건값의 범위를 설정하는 BETWEEN연산자

- BETWEEN 연산자는 특정 칼럼의 데이터 값이  
 A이상 B이하에 포함되는 행을 검색하기 위한 연산자이다.

```sql
SELECT * | 컬럼이름 FROM 테이블이름 WHERE 컬럼이름 BETWEEN A AND B;
```

- BETWEEN 연산자는 두 개의 비교식을 AND 연산자로 묶은 것과 같다.

```sql
SELECT * | 컬럼이름 FROM 테이블이름 WHERE 컬럼이름 >= A AND 컬럼이름 <= B;
```

## IN연산자

### 여러 개의 값 중에서 하나라도 일치하면 참이 되는 연산자.

- IN 연산자는 특정 칼럼의 데이터 값이 A, B, …, Z값 중 하나라도 일치하면 ‘참’이 되는 연산자이다.

```sql
SELECT * | 컬럼이름 FROM 테이블이름 WHERE 컬럼이름 IN (A, B, …, Z);
```

- IN 연산자는 여러개의 비교식을 OR 연산자로 묶은 것과 같다.

```sql
SELECT * | 컬럼이름 FROM 테이블이름 WHERE 컬럼이름=A OR컬럼이름=B OR … OR 컬럼이름=Z;
```

## LIKE연산자

### 특정 키워드가 포함된 데이터를 검색하기

- LIKE 연산자는 컬럼에 저장된 문자열이  
LIKE 연산자에서 지정한 문자와 부분적으로 일치하면 참이 되는 연산자이다.

```sql
SELECT * | 컬럼이름 FROM 테이블이름 WHERE 컬럼이름 LIKE '%검색어%';
```

- `%` : 임의의 길이인 문자열(길이가 0인 경우도 포함)에 대한 특수 문자

| '%김’ | '김'으로 끝나는 모든 내용. |
| --- | --- |
| '김%’ | '김'으로 시작하는 모든 내용 |
| '%김%’ | 앞 뒤 구분 없이 '김'을 포함하는 모든 내용 |

## ISNULL, ISNOTNULL연산자

### 특정 컬럼에 저장된 데이터에 대한 Null 여부 검사하기

- IS NULL : NULL을 포함하는 행을 검색하기 위해 사용
- IS NOT NULL : NULL을 포함하지 않는 행을 검색하기 위해 사용

```sql
SELECT * | 컬럼이름 FROM 테이블이름 WHERE 컬럼이름 IS [NOT] NULL;
```

## 데이터 정렬하기

### ORDER BY절

- 칼럼이나 표현식을 기준으로 출력 결과를 정렬할 때 사용한다.

```sql
SELECT [DISTINCT] {* | 컬럼이름 [AS 별칭]......} FROM 테이블이름 
[WHERE 검색조건 ] 
[ORDER BY 컬럼이름 [정렬옵션] ]
```

- 정렬옵션
    - ASC : 오름차순, 기본값 ⇒ 순차 정렬  (작은것부터)
    - DESC :  내림차순 ⇒ 역순 정렬  (큰것부터)
- 정렬방법 (ASC의 경우)
    - 문자 : 알파벳순, 한글은 가나다 순 출력
    - 숫자 : 가장 작은 값부터 먼저 출력
    - 날짜 : 과거 날짜부터 출력

## 다중 컬럼 정렬

### 2차,3차 정렬 조건 부여하기

- ORDER BY절에서 지정한 첫 번째 칼럼을 기준으로 1차 정렬한 후,
동일한 값이 있는 경우 두 번째 칼럼을 기준으로 정렬한다.
- 이 때 각 컬럼별로 정렬 옵션이 따로 설정된다.

```sql
SELECT [DISTINCT] {* | 컬럼이름 [AS 별칭]......} FROM 테이블이름
[WHERE 검색조건 ] 
[ORDER BY 컬럼1이름 [정렬옵션], 컬럼2이름 [정렬옵션], ..., 컬럼n이름 [정렬옵션] ] 
```

## 데이터 부분 조회

### Limit 절

- 전체 조회 결과의 x번째 위치에서 부터 y개를 조회
- x값은 0부터 시작

```sql
SELECT [DISTINCT] {* | 컬럼이름 [AS 별칭]......} FROM 테이블이름
[WHERE 검색조건 ] 
[ORDER BY 컬럼1이름 [정렬옵션], 컬럼2이름 [정렬옵션], ..., 컬럼n이름 [정렬옵션] ] 
[LIMIT x, y ]
```

- LIMIT 의 경우 MySQL에서만 지원하는 구문  
같은 기능을 MSSQL에서는 TOP  
Oracle에서는 Rawnum으로 제공
- 페이지 번호 구현과 관련있음